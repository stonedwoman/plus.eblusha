import{r as h,j as t}from"./vendor-query-CNP5Hy5J.js";import{s,O as p}from"./index-DFPrICts.js";import"./vendor-react-BcTlWpV0.js";import"./vendor-socket-CA1CrNgP.js";import"./vendor-crypto-GGjuBpPe.js";const v=50;function E(){return h.useEffect(()=>{if(typeof window>"u"||typeof document>"u")return;const d=()=>{const e=typeof document.hasFocus=="function"?document.hasFocus():!0;return!document.hidden&&e};let r=d();const o=(e,c=!1)=>{!c&&e===r||(r=e,s.connected&&s.emit("presence:focus",{focused:e}))},i=(e=!1)=>{const c=d();o(c,e)};let n=null;const u=()=>i(),a=()=>i(),l=()=>{typeof window>"u"||(n&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,i()},v))},f=()=>o(!1),m=()=>o(!1,!0),w=()=>o(r,!0);return i(!0),document.addEventListener("visibilitychange",u),window.addEventListener("focus",a),window.addEventListener("blur",l),window.addEventListener("pagehide",f),window.addEventListener("beforeunload",m),s.on("connect",w),()=>{n&&typeof window<"u"&&window.clearTimeout(n),document.removeEventListener("visibilitychange",u),window.removeEventListener("focus",a),window.removeEventListener("blur",l),window.removeEventListener("pagehide",f),window.removeEventListener("beforeunload",m),s.off("connect",w)}},[]),null}function x(){return t.jsxs(t.Fragment,{children:[t.jsx(E,{}),t.jsx("main",{className:"content",style:{height:"calc(var(--vh, 1vh) * 100)"},children:t.jsx(p,{})})]})}export{x as default};
