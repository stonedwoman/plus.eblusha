import{r as a,j as e}from"./vendor-query-CNP5Hy5J.js";import{e as G}from"./index-DFPrICts.js";const X=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,n)=>n?n.toUpperCase():i.toLowerCase()),U=s=>{const t=J(s);return t.charAt(0).toUpperCase()+t.slice(1)},H=(...s)=>s.filter((t,i,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===i).join(" ").trim(),Q=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var ee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const te=a.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:o="",children:r,iconNode:l,...c},b)=>a.createElement("svg",{ref:b,...ee,width:t,height:t,stroke:s,strokeWidth:n?Number(i)*24/Number(t):i,className:H("lucide",o),...!r&&!Q(c)&&{"aria-hidden":"true"},...c},[...l.map(([y,_])=>a.createElement(y,_)),...Array.isArray(r)?r:[r]]));const u=(s,t)=>{const i=a.forwardRef(({className:n,...o},r)=>a.createElement(te,{ref:r,iconNode:t,className:H(`lucide-${X(U(s))}`,`lucide-${s}`,n),...o}));return i.displayName=U(s),i};const se=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ne=u("chevron-down",se);const oe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ie=u("copy",oe);const re=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ae=u("lock",re);const le=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],q=u("message-square",le);const ce=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],de=u("phone",ce);const he=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fe=u("settings",he);const me=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],ue=u("shield-off",me);const pe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xe=u("shield",pe);const _e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ve=u("trash-2",_e);const je=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],F=u("triangle-alert",je);const be=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ye=u("user-plus",be);const ke=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],K=u("x",ke);async function Se(s={}){if(typeof navigator>"u"||!navigator.mediaDevices?.getUserMedia)return{ok:!0};const t=s.audio!==!1,i=!!s.video;if(!t&&!i)return{ok:!0};const n={audio:t,video:i};let o=null;try{return o=await navigator.mediaDevices.getUserMedia(n),{ok:!0}}catch(r){return{ok:!1,error:r??new Error("Unknown media error")}}finally{o&&o.getTracks().forEach(r=>{try{r.stop()}catch{}})}}function Ne(s){if(!s)return null;if(s.startsWith("blob:")||s.startsWith("data:")||s.startsWith("/"))return s;let t;try{t=new URL(s)}catch{return s}if(t.pathname.startsWith("/api/files/"))return`${t.pathname}${t.search||""}${t.hash||""}`;const i=t.pathname.split("/").filter(Boolean).map(o=>encodeURIComponent(decodeURIComponent(o))).join("/");if(!i)return s;const n=`${t.search||""}${t.hash||""}`;return`/api/files/${i}${n}`}function ge(s){let t=0;for(let l=0;l<s.length;l++)t=s.charCodeAt(l)+((t<<5)-t);const i=Math.abs(t),n=24+i%18-9,o=60+i%15,r=30+i%12;return`hsl(${n} ${o}% ${r}%)`}const Ce=3,I=[500,1500,3e3];function we({name:s,size:t=40,id:i=s,presence:n,avatarUrl:o}){const r=ge(i),l=(s||"?").trim().charAt(0).toUpperCase(),c=!!o?.startsWith("emoji:"),b=c?o.slice(6):null,[y,_]=a.useState(!1),[k,N]=a.useState(0),[C,x]=a.useState(null),h=a.useRef(null),f=a.useMemo(()=>{if(!o||c)return o??null;if(o.startsWith("data:")||typeof window>"u")return o;const v=Ne(o);if(v&&v!==o)return v;try{if(o.startsWith("http://")||o.startsWith("https://"))return o;const d=window.location,j=new URL(o,d.origin);return j.host===d.host&&j.protocol!==d.protocol&&(j.protocol=d.protocol),j.toString()}catch{return o}},[o,c]),w=a.useMemo(()=>{if(!n)return null;switch(n){case"ONLINE":return"#22c55e";case"IN_CALL":return"#ef4444";case"BACKGROUND":return"#facc15";case"AWAY":return"#f59e0b";default:return"#9ca3af"}},[n]);a.useEffect(()=>{_(!1),N(0),x(null),h.current&&(clearTimeout(h.current),h.current=null)},[o]),a.useEffect(()=>{f&&!c&&x(f)},[f,c]);const M=()=>{if(k<Ce&&f&&!c){const v=I[k]||I[I.length-1];h.current=setTimeout(()=>{try{if(f.startsWith("data:"))x(f);else{const d=new URL(f,typeof window<"u"?window.location.origin:void 0);d.searchParams.set("_retry",String(k+1)),d.searchParams.set("_t",String(Date.now())),x(d.toString())}N(d=>d+1)}catch(d){console.warn("[Avatar] Failed to parse URL for retry:",f,d),x(f),N(j=>j+1)}},v)}else _(!0)};a.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]);const $=C&&!c&&!y;return e.jsxs("div",{style:{width:t,height:t,borderRadius:"50%",background:r,color:"#fff",display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:700,position:"relative"},children:[$?e.jsx("img",{src:C,alt:s,style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover",objectPosition:"center"},onError:M,onLoad:()=>{k>0&&N(0)}}):c?e.jsx("span",{style:{fontSize:Math.floor(t*.6)},children:b}):l,w&&e.jsx("span",{style:{position:"absolute",right:-2,bottom:-2,width:Math.max(8,Math.floor(t*.28)),height:Math.max(8,Math.floor(t*.28)),borderRadius:"50%",boxShadow:"0 0 0 2px var(--surface-200)",background:w}})]})}function Ae({user:s,statusText:t,onClose:i,idLabel:n,idValue:o,onCopyId:r}){const l=s.displayName??s.username??"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å";return e.jsxs("div",{className:"profile-header",children:[e.jsxs("div",{className:"profile-header__top",children:[e.jsx("div",{className:"profile-header__avatar",children:e.jsx(we,{name:l,id:s.id,size:84,presence:s.status??void 0,avatarUrl:s.avatarUrl??void 0})}),e.jsx("button",{className:"btn btn-icon btn-ghost profile-close",onClick:i,"aria-label":"–ó–∞–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å",children:e.jsx(K,{size:18})})]}),e.jsxs("div",{className:"profile-header__main",children:[e.jsx("div",{className:"profile-header__name",title:l,children:l}),e.jsx("div",{className:"profile-header__status",children:t})]}),e.jsxs("div",{className:"profile-header__idrow",children:[e.jsxs("div",{className:"profile-header__idtext",children:[e.jsxs("span",{className:"profile-header__idlabel",children:[n,":"]}),e.jsx("span",{className:"profile-header__idvalue",children:o})]}),e.jsx("button",{className:"btn btn-secondary btn-icon",onClick:r,"aria-label":"–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å",children:e.jsx(ie,{size:16})})]})]})}function Me({isSelf:s,canCall:t,secretState:i,contactRequest:n,onWrite:o,onCall:r,onStartSecretChat:l,onOpenSecretChat:c,onEditProfile:b,onChangeAvatar:y,onPrivacy:_}){return s?e.jsxs("div",{className:"profile-actions",children:[e.jsxs("button",{className:"btn btn-primary",onClick:b,children:[e.jsx(fe,{size:18}),"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å"]}),e.jsxs("button",{className:"btn btn-secondary",onClick:y,children:[e.jsx(q,{size:18}),"–°–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä"]}),e.jsxs("button",{className:"btn btn-secondary",onClick:_,children:[e.jsx(xe,{size:18}),"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏"]})]}):e.jsxs("div",{className:"profile-actions",children:[n?.incoming?e.jsxs("div",{className:"profile-actions__request",children:[e.jsx("button",{className:"btn btn-primary",onClick:n.onAccept,children:"–ü—Ä–∏–Ω—è—Ç—å"}),e.jsx("button",{className:"btn btn-secondary",onClick:n.onReject,children:"–û—Ç–∫–ª–æ–Ω–∏—Ç—å"})]}):null,e.jsxs("button",{className:"btn btn-primary",onClick:o,children:[e.jsx(q,{size:18}),"–ù–∞–ø–∏—Å–∞—Ç—å"]}),t&&e.jsxs("button",{className:"btn btn-secondary",onClick:r,children:[e.jsx(de,{size:18}),"–ü–æ–∑–≤–æ–Ω–∏—Ç—å"]}),i?.enabled?e.jsxs("div",{className:"profile-actions__secret",children:[e.jsx("div",{className:"profile-actions__secret-state",children:"üîí –°–µ–∫—Ä–µ—Ç–Ω—ã–π —á–∞—Ç –≤–∫–ª—é—á—ë–Ω"}),e.jsx("button",{className:"btn btn-secondary",onClick:c,disabled:!i.canOpen,children:"–û—Ç–∫—Ä—ã—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —á–∞—Ç"})]}):e.jsxs("button",{className:"btn btn-secondary",onClick:l,children:[e.jsx(ae,{size:18}),"–°–µ–∫—Ä–µ—Ç–Ω—ã–π —á–∞—Ç"]})]})}function E({title:s,defaultOpen:t=!1,children:i}){const n=a.useId(),o=a.useMemo(()=>`profile-sec-${n}`,[n]),[r,l]=a.useState(t);return e.jsxs("section",{className:"profile-section",children:[e.jsxs("button",{type:"button",className:"profile-section__toggle",onClick:()=>l(c=>!c),"aria-expanded":r,"aria-controls":o,children:[e.jsx("span",{className:"profile-section__title",children:s}),e.jsx("span",{className:`profile-section__chev ${r?"is-open":""}`,"aria-hidden":"true",children:e.jsx(ne,{size:18})})]}),e.jsx("div",{id:o,className:`profile-section__content ${r?"is-open":""}`,children:i})]})}function $e({isSelf:s,isContact:t,canBlock:i,onAddContact:n,onRemoveContact:o,onBlock:r,onReport:l}){return s?null:e.jsxs("div",{className:"profile-danger",children:[e.jsxs("div",{className:"profile-danger__title",children:[e.jsx(F,{size:16}),"–û–ø–∞—Å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è"]}),e.jsxs("div",{className:"profile-danger__actions",children:[e.jsxs("button",{className:"btn profile-danger__btn profile-danger__btn--muted",onClick:r,disabled:!i,children:[e.jsx(ue,{size:18}),"–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å"]}),t?e.jsxs("button",{className:"btn profile-danger__btn profile-danger__btn--danger",onClick:o,children:[e.jsx(ve,{size:18}),"–£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç"]}):e.jsxs("button",{className:"btn profile-danger__btn profile-danger__btn--muted",onClick:n,children:[e.jsx(ye,{size:18}),"–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω—Ç–∞–∫—Ç—ã"]}),e.jsxs("button",{className:"btn profile-danger__btn profile-danger__btn--muted",onClick:l,children:[e.jsx(F,{size:18}),"–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è"]})]})]})}function Le(s){const{open:t,isMobile:i,user:n,meId:o,loadError:r,onRetry:l,statusText:c,idLabel:b,idValue:y,isContact:_,canBlock:k,contactRequest:N,secret:C,commonGroups:x,onClose:h,onCopyId:f,onAcceptContact:w,onRejectContact:M,onWrite:$,onCall:v,onStartSecretChat:d,onOpenSecretChat:j,onEditProfile:P,onChangeAvatar:z,onPrivacy:T,onAddContact:W,onRemoveContact:D,onBlock:O,onReport:B}=s,R=!!(n?.id&&o&&n.id===o),[g,m]=a.useState(null),[A,S]=a.useState(null);a.useEffect(()=>{if(!t)return;const p=V=>{V.key==="Escape"&&(V.preventDefault(),h())};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[t,h]),a.useEffect(()=>{if(!A)return;const p=window.setTimeout(()=>S(null),1400);return()=>window.clearTimeout(p)},[A]),a.useEffect(()=>{t||(m(null),S(null))},[t]);const Y=t&&typeof document<"u",L=i?"sheet":"panel",Z=a.useMemo(()=>t?e.jsx("div",{className:`profile-overlay profile-overlay--${L} ${t?"is-open":""}`,role:"dialog","aria-modal":"true",onClick:()=>h(),children:e.jsx("div",{className:`profile-surface profile-surface--${L}`,onClick:p=>p.stopPropagation(),children:n?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"profile-sticky",children:[e.jsx(Ae,{user:n,statusText:c,onClose:h,idLabel:b,idValue:y,onCopyId:async()=>{await f(),S({text:"–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ"})}}),e.jsx(Me,{isSelf:R,canCall:!!v,secretState:C,contactRequest:N?.incoming?{incoming:!0,onAccept:()=>void w?.(),onReject:()=>void M?.()}:null,onWrite:()=>void $?.(),onCall:()=>void v?.(),onStartSecretChat:()=>void d?.(),onOpenSecretChat:()=>void j?.(),onEditProfile:P,onChangeAvatar:z,onPrivacy:T})]}),e.jsxs("div",{className:"profile-body",children:[e.jsx(E,{title:"–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ",defaultOpen:!0,children:e.jsxs("div",{className:"profile-kv",children:[e.jsxs("div",{className:"profile-kv__row",children:[e.jsx("div",{className:"profile-kv__k",children:"–ò–º—è"}),e.jsx("div",{className:"profile-kv__v",children:n.displayName??"‚Äî"})]}),e.jsxs("div",{className:"profile-kv__row",children:[e.jsx("div",{className:"profile-kv__k",children:"–ù–∏–∫"}),e.jsx("div",{className:"profile-kv__v",children:n.username??"‚Äî"})]}),n.bio?e.jsxs("div",{className:"profile-kv__row",children:[e.jsx("div",{className:"profile-kv__k",children:"–û —Å–µ–±–µ"}),e.jsx("div",{className:"profile-kv__v profile-kv__v--multiline",children:n.bio})]}):null]})}),e.jsx(E,{title:"–û–±—â–∏–µ –º–µ–¥–∏–∞ / —Ñ–∞–π–ª—ã",children:e.jsx("div",{className:"profile-empty",children:"–ü–æ–∫–∞ —Ç—É—Ç –ø—É—Å—Ç–æ"})}),e.jsx(E,{title:"–û–±—â–∏–µ —á–∞—Ç—ã",children:x.length===0?e.jsx("div",{className:"profile-empty",children:"–ü–æ–∫–∞ —Ç—É—Ç –ø—É—Å—Ç–æ"}):e.jsxs("div",{className:"profile-list",children:[x.slice(0,6).map(p=>e.jsx("div",{className:"profile-list__item",children:e.jsx("div",{className:"profile-list__title",children:p.title})},p.id)),x.length>6?e.jsx("div",{className:"profile-muted",children:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"}):null]})}),e.jsx(E,{title:"–¢–µ—Ö-–∏–Ω—Ñ–æ",children:e.jsxs("div",{className:"profile-kv",children:[e.jsxs("div",{className:"profile-kv__row",children:[e.jsx("div",{className:"profile-kv__k",children:"ID"}),e.jsx("div",{className:"profile-kv__v profile-kv__v--mono",children:n.id})]}),n.eblid?e.jsxs("div",{className:"profile-kv__row",children:[e.jsx("div",{className:"profile-kv__k",children:"EBLID"}),e.jsx("div",{className:"profile-kv__v profile-kv__v--mono",children:n.eblid})]}):null,n.lastSeenAt?e.jsxs("div",{className:"profile-kv__row",children:[e.jsx("div",{className:"profile-kv__k",children:"last seen"}),e.jsx("div",{className:"profile-kv__v",children:new Date(n.lastSeenAt).toLocaleString()})]}):null]})}),e.jsx($e,{isSelf:R,isContact:_,canBlock:k,onAddContact:()=>{m({title:"–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω—Ç–∞–∫—Ç—ã?",text:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ.",confirmLabel:"–î–æ–±–∞–≤–∏—Ç—å",tone:"muted",onConfirm:async()=>{await W?.(),m(null)}})},onRemoveContact:()=>{m({title:"–£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç?",text:"–ö–æ–Ω—Ç–∞–∫—Ç –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∏–∑ –≤–∞—à–µ–≥–æ —Å–ø–∏—Å–∫–∞. –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º.",confirmLabel:"–£–¥–∞–ª–∏—Ç—å",tone:"danger",onConfirm:async()=>{await D?.(),m(null)}})},onBlock:()=>{m({title:"–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?",text:"–û–Ω –Ω–µ —Å–º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å –∏ –∑–≤–æ–Ω–∏—Ç—å –≤–∞–º. –í—ã —Å–º–æ–∂–µ—Ç–µ —Å–Ω—è—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –ø–æ–∑–∂–µ.",confirmLabel:"–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å",tone:"danger",onConfirm:async()=>{await O?.(),m(null)}})},onReport:()=>{m({title:"–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è?",text:"–ú—ã –ø–æ–ª—É—á–∏–º –∂–∞–ª–æ–±—É –∏ —Å–º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é.",confirmLabel:"–û—Ç–ø—Ä–∞–≤–∏—Ç—å",tone:"muted",onConfirm:async()=>{await B?.(),m(null)}})}})]}),g?e.jsx("div",{className:"profile-confirm",onClick:()=>m(null),role:"presentation",children:e.jsxs("div",{className:"profile-confirm__surface",onClick:p=>p.stopPropagation(),children:[e.jsxs("div",{className:"profile-confirm__top",children:[e.jsx("div",{className:"profile-confirm__title",children:g.title}),e.jsx("button",{className:"btn btn-icon btn-ghost",onClick:()=>m(null),"aria-label":"–ó–∞–∫—Ä—ã—Ç—å",children:e.jsx(K,{size:18})})]}),e.jsx("div",{className:"profile-confirm__text",children:g.text}),e.jsxs("div",{className:"profile-confirm__actions",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>m(null),children:"–û—Ç–º–µ–Ω–∞"}),e.jsx("button",{className:"btn btn-primary",style:g.tone==="danger"?{background:"#ef4444",borderColor:"#ef4444"}:void 0,onClick:()=>void g.onConfirm(),children:g.confirmLabel})]})]})}):null,A?e.jsx("div",{className:"profile-toast",children:A.text}):null]}):r?e.jsxs("div",{className:"profile-error",children:[e.jsx("div",{className:"profile-error__title",children:"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å"}),e.jsx("div",{className:"profile-error__text",children:r}),e.jsxs("div",{className:"profile-error__actions",children:[e.jsx("button",{className:"btn btn-secondary",onClick:h,children:"–ó–∞–∫—Ä—ã—Ç—å"}),e.jsx("button",{className:"btn btn-primary",onClick:l,children:"–ü–æ–≤—Ç–æ—Ä–∏—Ç—å"})]})]}):e.jsxs("div",{className:"profile-skeleton",children:[e.jsx("div",{className:"profile-skeleton__header"}),e.jsx("div",{className:"profile-skeleton__actions"}),e.jsx("div",{className:"profile-skeleton__block"}),e.jsx("div",{className:"profile-skeleton__block"})]})})}):null,[t,L,n,r,l,c,b,y,h,f,R,$,v,N,w,M,C,d,j,P,z,T,x,_,k,W,D,O,B,g,A]);return Y?G.createPortal(Z,document.body):null}export{we as A,ie as C,ae as L,Le as P,ve as T,ye as U,K as X,Ne as a,de as b,u as c,Se as e};
