import{b as o,u as l,j as e}from"./vendor-query-D8-W16Rz.js";import{c as r}from"./index-C0JN-Z03.js";import"./vendor-react-DyfnzrEv.js";import"./vendor-socket-CA1CrNgP.js";import"./vendor-crypto-C7xP7Q7Y.js";function h(){const n=o({queryKey:["me"],queryFn:async()=>(await r.get("/status/me")).data.user}),i=l({mutationFn:async t=>(await r.patch("/status/me",t)).data.user,onSuccess:()=>{n.refetch()}}),u=t=>{t.preventDefault();const s=new FormData(t.currentTarget);i.mutate({displayName:String(s.get("displayName")??""),bio:String(s.get("bio")??""),status:String(s.get("status")??"")})},a=n.data;return e.jsxs("div",{className:"settings-page",children:[e.jsx("h2",{children:"Профиль"}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("label",{children:["Имя",e.jsx("input",{name:"displayName",defaultValue:a?.displayName??""})]}),e.jsxs("label",{children:["Статус",e.jsxs("select",{name:"status",defaultValue:a?.status??"ONLINE",children:[e.jsx("option",{value:"ONLINE",children:"Онлайн"}),e.jsx("option",{value:"AWAY",children:"Отошел"}),e.jsx("option",{value:"DND",children:"Не беспокоить"}),e.jsx("option",{value:"OFFLINE",children:"Оффлайн"})]})]}),e.jsxs("label",{children:["О себе",e.jsx("textarea",{name:"bio",defaultValue:a?.bio??""})]}),e.jsx("button",{type:"submit",disabled:i.isPending,children:"Сохранить"})]})]})}export{h as default};
