# –ù–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. Socket.IO –∫–ª–∏–µ–Ω—Ç —Å JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket —Å–µ—Ä–≤–µ—Ä—É
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT —Ç–æ–∫–µ–Ω
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WebSocket + –¥–æ–ª–≥–∏—Ö –æ–ø—Ä–æ—Å–æ–≤ –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞

### 2. –í—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ `message:new` –∏ `message:notify`
- ‚úÖ –ù–∞—Ç–∏–≤–Ω—ã–µ Android —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ –±–µ—Å–µ–¥–∞–º
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ `conversation:typing` (–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ `message:reaction` –∏ `receipts:update`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –±–µ—Å–µ–¥ –ø—Ä–∏ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

### 3. –í—Ö–æ–¥—è—â–∏–µ –∑–≤–æ–Ω–∫–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ `call:incoming` (1:1 –∑–≤–æ–Ω–∫–∏)
- ‚úÖ –ù–∞—Ç–∏–≤–Ω—ã–π full-screen —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞
- ‚úÖ –ö–Ω–æ–ø–∫–∏ "–û—Ç–≤–µ—Ç–∏—Ç—å", "–û—Ç–≤–µ—Ç–∏—Ç—å —Å –≤–∏–¥–µ–æ", "–û—Ç–∫–ª–æ–Ω–∏—Ç—å"
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π decline —á–µ—Ä–µ–∑ 25 —Å–µ–∫—É–Ω–¥
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ `call:accepted`, `call:declined`, `call:ended`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä—É–ø–ø–æ–≤—ã—Ö –∑–≤–æ–Ω–∫–æ–≤ (`call:status`, `call:status:bulk`)

### 4. –ù–∞—Ç–∏–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞
- ‚úÖ Full-screen Activity
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —ç–∫—Ä–∞–Ω–∞
- ‚úÖ –í–∫–ª—é—á–∞–µ—Ç —ç–∫—Ä–∞–Ω –ø—Ä–∏ –∑–≤–æ–Ω–∫–µ
- ‚úÖ –ë–ª–æ–∫–∏—Ä—É–µ—Ç –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ Capacitor bridge

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
capacitor/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ socket-events.ts          # –í—Å–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ socket-service.ts         # Socket.IO –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notification-service.ts   # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ message-handler.ts        # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ call-handler.ts           # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–≤–æ–Ω–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                      # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ android/
‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ       ‚îî‚îÄ‚îÄ src/
‚îÇ           ‚îî‚îÄ‚îÄ main/
‚îÇ               ‚îú‚îÄ‚îÄ java/org/eblusha/plus/
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ IncomingCallActivity.java
‚îÇ               ‚îî‚îÄ‚îÄ res/
‚îÇ                   ‚îî‚îÄ‚îÄ layout/
‚îÇ                       ‚îî‚îÄ‚îÄ activity_incoming_call.xml
‚îî‚îÄ‚îÄ INTEGRATION_GUIDE.md              # –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   cd capacitor
   npm install
   ```

2. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   –°–º. `INTEGRATION_GUIDE.md` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Android:**
   - –î–æ–±–∞–≤—å—Ç–µ Activity –≤ `AndroidManifest.xml`
   - –î–æ–±–∞–≤—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
   - –î–æ–±–∞–≤—å—Ç–µ –∑–≤—É–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

4. **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
   ```bash
   npm run sync:android
   npm run open:android
   ```

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–î–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ:

1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –º–æ–¥—É–ª–∏ –≤ `frontend/src/main.tsx`
2. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å AndroidManifest.xml
4. –î–æ–±–∞–≤–∏—Ç—å –∑–≤—É–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ `INTEGRATION_GUIDE.md`.

